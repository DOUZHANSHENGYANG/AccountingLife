# 智能记账应用数据导出格式说明

## Excel 导出格式

Excel导出文件包含以下工作表：

### 1. 交易记录 (Transactions)

| 列名 | 数据类型 | 说明 |
|------|---------|------|
| ID | 文本 | 交易记录的唯一标识符 |
| 日期 | 日期 (YYYY-MM-DD) | 交易发生的日期 |
| 标题 | 文本 | 交易的标题或描述 |
| 金额 | 数字 | 交易金额（正数表示收入，负数表示支出） |
| 分类 | 文本 | 交易的分类名称 |
| 分类ID | 文本 | 交易的分类ID |
| 备注 | 文本 | 交易的备注信息（可选） |
| 附件 | 文本 | 附件的URL或路径（可选） |

### 2. 分类 (Categories)

| 列名 | 数据类型 | 说明 |
|------|---------|------|
| ID | 文本 | 分类的唯一标识符 |
| 名称 | 文本 | 分类的名称 |
| 类型 | 文本 | 分类的类型（收入/支出） |
| 图标 | 文本 | 分类的图标名称 |
| 颜色 | 文本 | 分类的颜色（十六进制代码） |
| 父分类ID | 文本 | 父分类的ID（如果是子分类） |

### 3. 预算 (Budgets)

| 列名 | 数据类型 | 说明 |
|------|---------|------|
| ID | 文本 | 预算的唯一标识符 |
| 分类ID | 文本 | 预算关联的分类ID |
| 金额 | 数字 | 预算金额 |
| 周期 | 文本 | 预算周期（月度/年度） |
| 已花费 | 数字 | 已花费金额 |
| 年份 | 数字 | 预算年份 |
| 月份 | 数字 | 预算月份（如果是月度预算） |

### 4. 月度统计 (MonthlyStats)

| 列名 | 数据类型 | 说明 |
|------|---------|------|
| 年份 | 数字 | 统计年份 |
| 月份 | 数字 | 统计月份 |
| 收入 | 数字 | 月度总收入 |
| 支出 | 数字 | 月度总支出 |
| 结余 | 数字 | 月度结余（收入-支出） |

## CSV 导出格式

CSV导出文件仅包含交易记录数据，格式如下：

```
ID,日期,标题,金额,分类,分类ID,备注,附件
t_1234567890,2023-05-01,超市购物,-100.50,日常开销,cat_1,买了水果和蔬菜,
t_1234567891,2023-05-02,工资收入,5000.00,工资,cat_2,5月工资,
```

## PDF 导出格式

PDF导出文件包含以下内容：

1. **封面页**：包含应用名称、导出日期和时间范围
2. **摘要页**：包含所选时间范围内的收入、支出和结余总计
3. **交易记录**：按日期排序的交易记录列表
4. **分类统计**：按分类汇总的收入和支出统计
5. **图表**：包含饼图和趋势图的可视化数据

## 导入格式要求

### 微信支付账单

支持导入微信支付导出的账单文件（CSV格式）。导入时会自动识别以下字段：

- 交易时间 → 日期
- 交易类型 → 分类（根据交易类型自动匹配）
- 交易对方 → 标题
- 金额 → 金额
- 支付方式 → 备注
- 交易状态 → 仅导入"支付成功"的交易

### 支付宝账单

支持导入支付宝导出的账单文件（CSV格式）。导入时会自动识别以下字段：

- 交易创建时间 → 日期
- 交易分类 → 分类（根据交易分类自动匹配）
- 交易对方 → 标题
- 金额 → 金额
- 收/支 → 金额正负
- 交易状态 → 仅导入"交易成功"的交易

### Excel导入

支持导入符合以下格式的Excel文件：

| 日期 | 标题 | 金额 | 分类 | 备注 |
|------|------|------|------|------|
| YYYY-MM-DD | 文本 | 数字 | 文本 | 文本 |

注意：
- 日期必须是YYYY-MM-DD格式
- 金额为正数表示收入，负数表示支出
- 分类必须与应用内已有分类匹配，否则将使用"其他"分类
- 备注为可选字段
